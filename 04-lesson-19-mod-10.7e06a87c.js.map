{"mappings":"AAAA,MAwBMA,EAAU,CACZC,QAAS,CACL,YAAa,qCAGfC,EAAOC,SAASC,cAAc,QAC9BC,EAAcF,SAASC,cAAc,gBA6B3C,SAASE,EAAeC,GACpBF,EAAYG,UAAYD,C,CAuB5B,SAASE,EAAQC,GACbC,QAAQC,IAAIF,GACZJ,EAAe,4B,CAtDnBK,QAAQC,IAAIP,GAEZH,EAAKW,iBAAiB,UAEtB,SAAkBC,GACdA,EAAEC,iBACFJ,QAAQC,IAAI,YAEZ,MAAMI,EAAOF,EAAEG,cACTC,EAAQF,EAAKG,SAASC,KAAKF,MAAMG,OACvCV,QAAQC,IAAIM,IAkCGI,EAjCLJ,EAmCHK,MADK,uCAAuCD,IACjCtB,GACjBwB,MAAMC,GAAaA,EAASC,UAnCxBF,MAAK,EAACG,SAAEA,MACT,GAAwB,IAApBA,EAASC,OAAc,MAAM,IAAIC,MAAM,WAGvC,OAFAlB,QAAQC,IAAIe,GAELA,EAASG,QAAO,CAACvB,EAAQwB,IAgB5C,UAAsBC,OAAEA,EAAMC,MAAEA,EAAKC,IAAEA,EAAGC,WAAEA,EAAUC,YAAEA,IACpD,MAAO,uDAEQD,6DACiBF,8CACCD,GAAU,4DACNI,0BACvBF,wE,CAvBsCG,CAAaN,GAAWxB,GAAQ,GAAG,IAElFiB,KAAKlB,GAMLgC,MAAM7B,GACN8B,SAAQ,IAAMvB,EAAKwB,UAmB5B,IAAmBlB,C","sources":["src/js/04-lesson-19-mod-10.js"],"sourcesContent":["const API_KEY = \"9d46ea07e04d4f7f9708dcaed27cd554\";\n\n// fetch(`https://newsapi.org/v2/everything?q=Apple&from=2023-03-06&sortBy=popularity&apiKey=${API_KEY}`)\n    // .then((response) => response.json()) конверуємо дані в json\n//     .then((data) => {\n//         console.log(data) виводимо дані в консоль\n//     })\n//     .catch((error) => {\n//         console.log(error)\n//     });\n\n// const BASE_URL = \"https://newsapi.org/v2\";\n// const URL = `${BASE_URL}/v2/top-headlines?apiKey=${API_KEY}&category=sports&country=ua&pageSize=10`;\n// fetch(`https://newsapi.org/v2/top-headlines?country=de&category=business&apiKey=${API_KEY}`)\n//     .then((response) => response.json())\n//     .then((data) => {\n//         console.log(data);\n//     })\n//     .catch((error) => {\n//         console.log(\"error\", error);\n//     });\n\n// 67потік Лектор\n\nconst options = {\n    headers: {\n        \"X-Api-Key\": \"9d46ea07e04d4f7f9708dcaed27cd554\",\n    },\n};\nconst form = document.querySelector(\"form\");\nconst newsWrapper = document.querySelector(\"#newswrapper\");\nconsole.log(newsWrapper);\n\nform.addEventListener(\"submit\", onSubmit);\n\nfunction onSubmit(e) {\n    e.preventDefault();\n    console.log(\"onSubmit\");\n\n    const form = e.currentTarget;\n    const value = form.elements.news.value.trim();\n    console.log(value);\n    fetchData(value)\n        .then(({ articles }) => {\n        if (articles.length === 0) throw new Error(\"No data\");\n            console.log(articles);\n\n            return articles.reduce((markup, article) => createMarkup(article) + markup, \"\");\n        })\n        .then(updateNewslist)\n        // або\n        // .then(markup => {\n        //     console.log(markup);\n        //     updateNewslist(markup);\n        // }) \n        .catch(onError)\n        .finally(() => form.reset())\n};\n\nfunction updateNewslist(markup) {\n    newsWrapper.innerHTML = markup;\n};\n\nfunction createMarkup({ author, title, url, urlToImage, description }) {\n    return `\n    <div class =\"article-card\">\n        <img src=${urlToImage} class=\"article-img\">\n        <h2 class=\"article-title\">${title}</h2>\n        <h3 class=\"article-author\">${author || \"anonymous\"}</h3>\n        <p class=\"article-description\">${description}</p>\n        <a href=${url} class=\"article-link\" target=\"_blank\">Read more</a>\n    </div>\n    `\n}\n\nfunction fetchData(query) {\n    const URL = `https://newsapi.org/v2/everything?q=${query}`;\n    return fetch(URL, options)\n    .then((response) => response.json())\n};\n\n// fetchData(\"gpt\").then(console.log)\n\nfunction onError(err) {\n    console.log(err);\n    updateNewslist(\"<p>Articles not found</p>\")\n};\n\n"],"names":["$48585220bcf45c0a$var$options","headers","$48585220bcf45c0a$var$form","document","querySelector","$48585220bcf45c0a$var$newsWrapper","$48585220bcf45c0a$var$updateNewslist","markup","innerHTML","$48585220bcf45c0a$var$onError","err","console","log","addEventListener","e","preventDefault","form1","currentTarget","value","elements","news","trim","query","fetch","then","response","json","articles","length","Error","reduce","article","author","title","url","urlToImage","description","$48585220bcf45c0a$var$createMarkup","catch","finally","reset"],"version":3,"file":"04-lesson-19-mod-10.7e06a87c.js.map"}